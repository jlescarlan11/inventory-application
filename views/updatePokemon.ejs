<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Update Pokémon</title>
    <link href="/stylesheets/style.css" rel="stylesheet" />
  </head>
  <body
    class="relative flex flex-col py-16 px-8 text-[var(--color-text)] min-h-screen sm:px-4 bg-no-repeat bg-center bg-fixed bg-cover"
    style="background-image: url('/wp10742485.webp')"
  >
    <!-- Overlay -->
    <div class="absolute inset-0 bg-[var(--color-primary)]/50 z-0"></div>
    <%- include('navbar') %>
    <main class="container sm:mx-auto py-4 gap-4 justify-start z-10">
      <div class="max-w-2xl mx-auto bg-[var(--color-secondary)]/70 backdrop-blur-md rounded-lg shadow-md p-6">
        <h1 class="text-2xl font-bold mb-6">Update Pokémon</h1>
        <%- include('partials/errors') %>
        <form action="/pokemons/<%= pokemon.id %>/update" method="POST" class="space-y-6">
          <input type="hidden" name="_method" value="PUT">
          
          <!-- Name Input -->
          <div>
            <label for="name" class="block text-sm font-medium mb-2">
              Pokémon Name:
            </label>
            <input 
              type="text" 
              id="name" 
              name="name" 
              value="<%= pokemon.name %>"
              placeholder="Enter Pokémon's Name"
              class="w-full px-3 py-2 border border-[var(--color-text)] rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]"
              required
            />
          </div>

          <!-- Type 1 Selection -->
          <div>
            <label for="type1" class="block text-sm font-medium mb-2">
              Primary Type
            </label>
            <select 
              id="type1" 
              name="type1" 
              class="w-full px-3 py-2 border text-text/50 border-[var(--color-text)] rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]"
              required
            >
              <option value="">Select Primary Type</option>
              <% types.forEach(type => { %>
                <option 
                  value="<%= type.id %>"
                  <%= pokemon.type1_id == type.id ? 'selected' : '' %>
                >
                  <%= type.name %>
                </option>
              <% }); %>
            </select>
          </div>

          <!-- Type 2 Selection -->
          <div>
            <label for="type2" class="block text-sm font-medium mb-2">
              Secondary Type (Optional)
            </label>
            <select 
              id="type2" 
              name="type2" 
              class="w-full px-3 py-2 border text-text/50 border-[var(--color-text)] rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]"
            >
              <option value="">Select Secondary Type</option>
              <% types.forEach(type => { %>
                <option 
                  value="<%= type.id %>"
                  <%= pokemon.type2_id == type.id ? 'selected' : '' %>
                >
                  <%= type.name %>
                </option>
              <% }); %>
            </select>
          </div>

          <!-- Form Actions -->
          <div class="flex justify-end space-x-4">
            <a href="/pokemons" class="px-4 py-2 hover:text-[var(--color-accent)]">
              Cancel
            </a>
            <button 
              type="submit" 
              class="px-4 py-2 bg-[var(--color-accent)] text-[var(--color-primary)] rounded-md hover:bg-[var(--color-accent)]/90 focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] focus:ring-offset-2"
            >
              Update
            </button>
          </div>
        </form>
      </div>
    </main>
    <%- include('footer') %>
  </body>
</html>